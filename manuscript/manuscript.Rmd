---
title: "Prey skill and behaviour in predator expertise acquisition: insights from a virtual ecosystem"
output: 
  word_document:
    reference_docx: manuscript-styles.docx
    fig_caption: yes
bibliography: references.bib
csl: chicago-author-date.csl
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)

library(data.table)
library(brms)
library(posterior)
library(flextable)
library(officer)
library(dplyr)

# Source helper functions
source(here::here("code", "utils", "helpers.R"))
```

```{r}
path <- file.path(here::here(), "data")

dat <- fread(
  file.path(
    path, "FraserFrancoetal2025-data.csv"
  ),
  select = c(
    "timestamp", "match_id", "realm_id",
    "environment_id", "avatar_id", "predator_id",
    "game_duration", "total_xp_pred", "cumul_xp_pred",
    "hunting_success", "pred_speed", "prey_avg_speed",
    "prey_avg_rank", "prey_avg_space_rate"
  )
)

dat[, c(2:6) := lapply(.SD, function(x) as.factor(x)), .SDcols = c(2:6)]

# To have a date column
dat[, date := as.POSIXct(sub(" .*", "", timestamp))]

# Space rate within 0.2
dat <- dat[prey_avg_space_rate <= 0.2]
```



\newpage
# LAY SUMMARY {.unnumbered}

Predators acquire hunting expertise over successive encouters with their prey, allowing them to be more successful. Using a multiplayer videogame that simulates a predator-prey interaction, we show that the acquisition of predator expertise changes as a function of prey behaviour and skill. Our findings suggest that prey antipredator behaviour could mediate how predators learn and gain skills over time.

**to update**



\newpage
# ABSTRACT {.unnumbered}

The acquisition of expertise is crucial for predators to be successful hunters. To achieve this, predators must hone their skills and gain knowledge through repeated and extensive practice. It is hypothesized that prey can interfere in this process and hinder the acquisition of predator expertise by employing antipredator tactics to evade detection and pursuit. However, empirical evidence on how predators acquire expertise through repeated encounters with their prey remains limited, largely due to the challenges of monitoring direct interactions in the wild. Here, we use the game *Dead by Daylight*, a virtual predator-prey system where a human predator chases four human prey, to investigate how experience shapes population and individual hunting success in predators across repeated interactions with their prey. 

**We observed that predators were less successful when hunting prey that were faster, occupied more space in the virtual environment, and possessed greater skill. As the prey gained skill, they also moved faster, suggesting an improvement in antipredator behaviour. However, prey movement behaviour did not mediate differences in expertise acquisition among individual predators. Our results suggest that skilled prey use behaviours such as fast movement to outmanoeuver their predators, thereby impacting how predators acquire expertise at the population level. The predator population should optimize prey consumption over repeated encounters with prey of average skill, and optimize their success sooner if they consistently encounter prey moving at average speeds.**

**to update**

Keywords: predator-prey interactions, experience, learning, movement, virtual ecology, videogames



\newpage
# INTRODUCTION {.unnumbered}

Predation is an agent of evolutionary change that regulates prey populations, limits the spread of diseases, and mediates energy flow across trophic levels [@hairston1993;@abrams2000;@ripple.etal2014;@wirsing.etal2021]. These processes are driven by spatial and temporal changes in predation risk and prey capture, as predators select suitable habitats to hunt and adjust their strategies accordingly  [@quevedo.etal2009;@pettorelli.etal2015;@labarge.etal2024;@schmitz2017]. Theory suggests that predators become proficient hunters by acquiring expertise through learning key skills and practicing the tactics required to locate, select, and capture their prey [@woo.etal2008;@wooster.etal2023;@labarge.etal2024]. This raises the question of whether differences in hunting success between predators can be attributed to differences in the capacity to acquire hunting expertise. Unraveling how this expertise emerges during predator-prey interactions would allow for a better assessment of the direct effects of predation on prey.

Expertise can be defined as the characteristics, skills, and knowledge that provide individuals with the ability to outperform novices on complex tasks [@helton.2005;@dukas2017]. The acquisition of expertise is measured by quantifying how the success of a skill, such as hunting success, varies as a function of time or repeated attempts [@dukas2019]. It is usually characterised by a gradual improvement in performance over time [@dukas2008;@rutz2012;@resende.etal2008]. Different mechanisms can be involded in the process of acquiring expertise. For example, in human and non-human hunters, individuals optimize foraging efficiency over time by associative learning, by developing search images, or by exploiting cues from their prey and their environment [@edwards.jackson1994;@morse2000;@macdonald2007;@reid.etal2010;@wilson-rankin2015]. For predators to become proficient hunters, they require increased long term memory, a superior ability to focus, acute perception and anticipation, as well as fast and coordinated motricity [@dukas2019]. Ultimately, expert predators should have greater knowledge, better energy management, and acute motor skills that increase their chances of locating and capturing prey. Any limitations in these attributes could impair the rate at which predators acquire expertise, with potential long-term consequences for their hunting success. Therefore, differences among predators in these attributes may alter the dynamics of predator-prey systems [@kondoh2010;@skelhornandcandy2016;@kikuchi.etal2023].

Prey respond to predators by using antipredator tactics such as camouflage to avoid detection and rapid escapes to evade capture [@walker.etal2005;@kelley.magurran2011;@herbert-read.etal2017]. These strategies are hypothesized to drive differences in prey consumption among predators, by disrupting their capacity to acquire hunting expertise [@wooster.etal2023]. This has been supported by experimental studies showing that prey camouflage can impair expertise acquisition in humans and birds [@martin.etal2012;@troscianko.etal2013]. For example, using a virtual experiment, @troscianko.etal2018 found in human subjects that disruptive colouration interfered with their ability to form search images, hindering improvements in detection times over repeated attempts. Beyond prey camouflage, there is limited evidence to suggest that antipredator behaviour hinders the acquisition of predator expertise. Yet, many prey employ strategies such as fast-paced movements and rapid turning angles to avoid capture. When predator capacities do not match these antipredator tactics, individuals with limited ability to develop the necessary attributes for fast-paced hunting may struggle to improve over time. Prey antipredator behaviour can also improve through continued exposure to predators [@turner2006;@kelley.magurran2011;@lonnstedt.etal2012]. For instance, prey alter their activity patterns under increasing predation risk [@wirsing.etal2021]. Animal reintroduction programs show that individuals trained to recognize predators display more antipredator behaviours and are 1.5 times more likely to survive than individuals that were never exposed to predators [@tetzalf.etal2019]. Hence, encountering prey with greater skill at using antipredator tactics may impair expertise acquisition in predators. To our knowledge, the relationship between prey antipredator behaviour and the acquisition of expertise in human and nonhuman predators is poorly studied, representing a significant gap in our understanding of predator-prey interactions.

A recurring challenge impeding research on predator-prey behavioural interactions is the need to collect data simultaneously on both the predator and the prey over successive interactions. Here we mitigate these challenges by using *Dead by Daylight* as our study system, a videogame where four prey players must forage for resources while avoiding predation by a fifth player. *Dead by Daylight* allows us to test ecological hypotheses by providing controlled virtual environments where interactions among thousands of individuals are captured in real time [see @montiglio.etal2025 for a review]. In this game, the predator population comprises individuals that either ambush or hunt at high speeds (i.e., mean movement speed along an ambush-cursorial continuum of tactics), and their success is driven by the movement of the prey [@fraserfranco.etal2022]. The prey can increase their chances of survival by cooperating and moving fast to escape the predator [@cere.etal2021;@fraserfranco.etal2022;@santostefano.etal2024]. Moreover, individuals in *Dead by Daylight* and other virtual systems display realistic behaviours in response to the fear of predation, such as freezing (M.F.F., personal observations), hiding [@santostefano.etal2024], or increased vigilance [@beauchamp2020]. These observations outline how ecological phenomena can emerge from human interactions in virtual systems with fixed rules [@brosnan.etal2017;@kasumovic.etal2017]. Videogames also generate large volumes of data on thousands of interacting players throughout their lifetime in the game under realistic, controlled, and repeatable ecological scenarios. Hence, *Dead by Daylight* allows us to tackle fundamental questions about the role of antipredator behaviour and experience in predator-prey interactions.

In this study, we assess how predator expertise emerges over repeated encounters with prey using data from players in *Dead by Daylight*. We quantify expertise acquisition as the relationship between hunting success (i.e., prey capture) and repeated experience (i.e., cumulated matches). Predators should display a monotonic increase in hunting success over time up to some point at which it will stabilize [@dukas2019]. Prey with more skill should have improved antipredator behaviour, and we expect that prey with greater predator-avoidance skills will move at faster speeds and cover more space in the virtual environment. Thus, we hypothesize that prey movement behavior will influence predator expertise acquisition. This should result in differences among individuals in the rate at which they acquire expertise as well as in their maximum hunting success. We predict that predators that encountered faster prey will have a lower rate of acquisition and a reduced maximum hunting success.




# MATERIALS AND METHODS {.unnumbered}

## Study system

*Dead by Daylight* is a survival asymmetric (i.e., gameplay mechanics differ between two groups) multiplayer online game developed by Behaviour Interactive Inc. (Montreal, Canada), in which players can play either as a predator or prey. Every match includes only one predator and four prey. The objective of the predator is to hunt and capture the prey, and the objective of the prey is to search for resources while avoiding the predator. The resources are in the form of power generators that, once all activated, will enable the prey to escape through one of two exit doors. A skill-based matchmaking algorithm determines the composition of the predator and prey group in a match. A match ends when the predator kills all the prey available (i.e., that have not escaped), or when the last remaining prey escapes the virtual environment.

Before the start of a match, players (predator or prey) can choose an avatar with unique abilities that encourage specific play styles (e.g. bold vs cautious prey, or ambush vs roaming predator). During our study period, the game offered `r toString(format(length(unique(dat$avatar_id))))` predator avatars. The virtual environments comprise fixed and procedurally generated habitat components, such as vegetation, mazes, and buildings. Some of these environments are larger than others, with varying structural complexity. However, predators display only minimal changes in behaviour and hunting success across these environments [@fraserfranco.etal2022]. There were `r toString(format(length(unique(dat$environment_id))))` virtual game environments available for play during the study period. Details on the basic characteristics of predator avatars are available at https://deadbydaylight.fandom.com/wiki/Killers. Details on the size and structure of the different virtual environments are available at https://dbdmaps.com/ and https://deadbydaylight.fandom.com/wiki/Realms. 

## Data collection

Behaviour Interactive Inc. provided data that spanned six months of gameplay recorded for every player from `r toString(format(min(dat$date)))` to `r toString(format(max(dat$date)))` (game builds 4.4.0 to 4.7.2). We analyzed only matches where players did not know each other and were unable to communicate using voice-recording devices. We filtered any matches where players were inactive, such as when mean distances travelled per second (i.e., speed) were equal to, or very close to, zero. Moreover, we used our knowledge of the game to remove any matches where players were potentially hacking, or not playing the game as intended.

Our study population comprised `r toString(format(length(unique(dat$predator_id))))` players who played at least 300 matches. We monitored all their matches from the first to a maximum of 500 matches, with a total record of `r toString(formatC(length(unique(dat$match_id)), big.mark = ","))` matches overall. The predator-players' experience in our population sample varied between `r toString(format(min(dat$total_xp_pred)))` and `r toString(format(max(dat$total_xp_pred)))` matches played. These matches lasted between `r toString(format(round(min(dat$game_duration / 60))), digits = 2)` and `r toString(format(round(max(dat$game_duration / 60))), digits = 2)` min (mean = `r toString(format(round(mean(dat$game_duration / 60))), digits = 2)` min). We recognize that we could have introduced a bias by retaining only those individuals, as they might already be seasoned video game enthusiasts and exhibit expert-level performance in their early matches in *Dead by Daylight*. Thus, we tested sample bias by comparing the results from our dataset to those from a random sample of players who played either 20 to 50 matches, 51 to 100 matches, or 101 to 300 matches during the same timeframe. We then took the first 20 matches played by these players, including those from our population sample, and compared their mean hunting success using a Bayesian hierarchical linear model. We found that all three groups of players had very similar success as the predator in their first 20 matches among them and compared to those used as our focal sample (Appendix 1: Table S1 and Figure S1), giving us confidence that we did not introduce a significant sampling bias.

We collected the following information for every match in our population sample: the player's anonymous ID, the predator player's hunting success, the predator player's cumulated experience, and the mean rank, speed, and space coverage of the group of prey that the predator player encountered. We defined hunting success as the number of prey consumed during the match (min = `r toString(format(min(dat$hunting_success)))`, max = `r toString(format(max(dat$hunting_success)))`). We defined the predator's cumulative experience as the number of matches played as the predator prior to the match being monitored. For example, the first match of a player would have a cumulative experience value of 0, while the tenth match would have a value of 9.

We used the mean rank of the prey as a proxy of their predator-avoidance skill. Player ranks vary between `r toString(format(min(dat$prey_avg_rank)))` and `r toString(format(max(dat$prey_avg_rank)))`, with a rank of 1 indicating the highest skill. The ranking system in *Dead by Daylight* was implemented by the company to pair players in a match based on their skill (https://deadbydaylight.fandom.com/wiki/Rank). The skill of a player increases based on their performance from match to match. While the ranking system represents an approximation of prey skill, it was the most readily available metric we could access to determine the skill of the prey group, as we did not have access to the prior matches of the prey. In addition, the pairing system is subject to variation depending on factors such as player availability, which can result in predator-prey groups with unbalanced skill, allowing us to evaluate the effect of the prey's skill on predator success. For a given match, we measured the prey's rank as the mean rank of the four individual prey (mean = `r toString(format(round(mean(dat$prey_avg_rank, na.rm = T), digits = 2), nsmall = 2))` ± `r toString(format(round(sd(dat$prey_avg_rank, na.rm = T), digits = 2), nsmall = 2))`), and the prey's speed as the mean travel speed of the four individual prey in a match (mean = `r toString(format(round(mean(dat$prey_avg_speed, na.rm = T), digits = 2), nsmall = 2))` ± `r toString(format(round(sd(dat$prey_avg_speed, na.rm = T), digits = 2), nsmall = 2))` m/s). Lastly, the prey space coverage represents the number of unique 16x16 tiles entered per second by the predator in a grid that covers the whole virtual environment (mean = `r toString(format(round(mean(dat$prey_avg_space_rate, na.rm = T), digits = 2), nsmall = 2))` ± `r toString(format(round(sd(dat$prey_avg_space_rate, na.rm = T), digits = 2), nsmall = 2))` tile visits).

## Data analyses

### Model specification: predator expertise

We quantified how predators developed their expertise using Bayesian generalized asymptotic mixed models, following @ClarkeHunt.2025. Asymptotic regression models allow one to model how a measure of performance or a behaviour changes over time, as both tend to follow a monotonic increase or decrease towards an asymptote [@ClarkeHunt.2025]. Here, we modeled changes in hunting success, which we defined as:

$$
y_i \mid n_i \sim \text{BetaBinomial}(n_i, \mu_i, \phi)
$$

where $y_i$ is the number of prey captured out of $n_i$ prey available (four), $\mu_i$ is the expected probability of hunting success for observation $i$, and $\phi$ is the precision parameter controlling overdispersion

To test the hypothesis that prey behaviour shaped the acquisition of predator expertise, we fitted three different models (Table 1) that predicted the expected probability of capturing the four prey $\mu_i$. All models followed the same basic structure defined as:

$$
\text{logit}(\mu_i) = a_j - (a_j - b_j) \times \exp(-\exp(c_j) \times x_i) + \mathbf{Z}_i^T \boldsymbol{\beta}
$$

where $x_i$ is the cumulative experience of the predator and $j$ indexes the predator player identity. The asymptotic parameters a, b, and c, represent the asymptote (maximum hunting success), the initial value (initial success), and the rate of gain (on the log scale), respectively. The term $\mathbf{Z}_i \boldsymbol{\beta}$ represents covariates used as controls, which were the game duration and the prey group's average rank.

We allowed the asymptotic paramaters to vary among predator players, and, in some models (Table 1), as a function of prey behaviour. We defined each parameter as:

$$
\begin{aligned}
a_j &= \alpha_a + \mathbf{W}_{a,i}^T \boldsymbol{\gamma}_a + u_{a,j} \\
b_j &= \alpha_b + \mathbf{W}_{b,i}^T \boldsymbol{\gamma}_b + u_{b,j} \\
c_j &= \alpha_c + \mathbf{W}_{c,i}^T \boldsymbol{\gamma}_c + u_{c,j}
\end{aligned}
$$

where $\alpha_k$ is the population-level intercept for parameter $k \in \{a, b, c\}$, $\mathbf{W}_{k,i}$ is a vector of prey behaviour covariates affecting asymptotic parameter $k$ with corresponding coefficients $\boldsymbol{\gamma}_k$, $u_{k,j}$ is a predator-specific random intercept. The prey behaviours included in $\mathbf{W}$ for each model are described in Table 1.

We assumed that the random intercepts for the predator identity followed a multivariate Gaussian distribution:

$$
\begin{pmatrix} u_{a,j} \\ u_{b,j} \\ u_{c,j} \end{pmatrix} \sim \text{MVN}(\mathbf{0}, \Sigma)
$$

This covariance structure allowed us to estimate correlations among individual differences in initial success, rate of gain, and maximum hunting success. With this, we can test if predators that were initially successful also had higher rates of gain in expertise and higher maximum hunting success.

```{r model-summary-table, ft.align = "left"}
# Create model summary table
model_summary <- data.frame(
  model = c("I", "II", "III"),
  covariates_y = c(
    "game duration, prey rank",
    "game duration, prey rank",
    "game duration, prey rank"
  ),
  covariates_asym = c(
    "—",
    "prey speed",
    "prey speed, prey space covered"
  ),
  hypothesis = c(
    "The predator population acquires expertise up to an optimum",
    "Prey speed affects population and individual-level expertise acquisition",
    "Prey speed and space coverage affects population and individual-level expertise acquisition"
  ),
  stringsAsFactors = FALSE
)

# Create flextable
model_table <- model_summary %>%
  flextable() %>%
  set_header_labels(
    model = "Model",
    covariates_y = "Covariates on y",
    covariates_asym = "Covariates on asymptotic parameters",
    hypothesis = "Hypothesis"
  ) %>%
  theme_booktabs() %>%
  autofit() %>%
  align(align = "left", part = "all") %>%
  set_caption(
    caption = "Table 1. Summary of the three generalized asymptotic mixed models fitted to test how prey behaviour shapes predator expertise acquisition. All models fit a population-level expertise trend and include a predator identity random effect on the asymptotic parameters (a, b, c).",
    style = "Table Caption"
  ) %>%
  font(fontname = "Times New Roman", part = "all") %>%
  fontsize(size = 10, part = "all") %>%
  width(j = 1, width = 0.8) %>%
  width(j = 2, width = 1.5) %>%
  width(j = 3, width = 1.2) %>%
  width(j = 4, width = 3.5)

model_table
```

We defined informative priors for the asymptotic parameter's intercepts to reflect biologically meaningful expectations. We centered the upper asymptote (a) at 1.39 (logit scale, corresponding to 80% success rate) with SD = 0.7, while the initial value (b) was centered at -1.10 (25% success rate) with SD = 0.7. We set a Normal(-5.5, 1) prior on the rate parameter (c), constraining it to plausible rates of improvement over the observed experience range. We used mildly informative priors for most effect sizes and variance components. The effects of prey speed and space use on parameters a and c received Normal(-0.3, 0.3) priors, reflecting a weak expectation of negative effects. Similarly, we applied a Normal(1, 0.5) prior on the game duration and a Normal(0.5, 0.5) on the prey rank. Lastly, we applied a half-normal prior (0, 1) on the random effect standard deviation parameters, an LKJ(2) prior on the correlation matrix, and a Normal(log(2), 0.5) prior on the shape parameter.

We tested the hypothesis that antipredator behaviour impairs the acquisition of predator expertise at the population level by comparing the mean asymptotic parameter values describing the global trends of each model (Figure 1). This allowed us evaluate if prey behaviour affected the acquisition of expertise at the population level. At the individual level, we tested the hypothesis that antipredator behaviour generates differences among predators in expertise acquisition by 1) assessing the relationship between the parameter values of a, b, and c, and prey behaviour, and 2) by comparing the individual-level standard deviation parameters of a, b, and c. Specifically, we compared the posterior distributions of standard deviations for the random intercepts (i.e., mean differences among predators) among the three models for parameters a, b, and c (Figure 4). Lastly, we computed the widely applicable information criterion (WAIC) to obtain the expected pointwise density, a measure of predictive accuracy allowing us to determine which model was best at predicting the data [@watanabe2010;@vehtari.etal2017;@piironen.vehtari2017].


### Model specification: prey antipredator behaviour

To test the hypothesis that prey speed and space coverage increases with prey skill, we fitted Bayesian linear regression models estimating the relationship between 1) prey speed and the standardized prey rank and 2) prey space coverage and the standardized prey rank. In both models, we controlled for the game duration, using it as a linear covariate, and included the predator identity as a random effect. 

We used weakly informative Gaussian priors on the slopes of the game duration ($N(0,\ 0.5^{2})$) and weakly informative negative Gaussian priors on the slopes of the prey rank ($N(-0.5,\ 1^{2})$) because prey of greater skill (i.e., rank 1 is the highest skill) should move faster and cover more space in the environment. Lastly, we used weakly informative Gaussian priors on the intercepts of prey speed ($N(2,\ 0.5^{2})$) and rate of space coverage ($N(15,\ 0.5^{2})$) as we assumed that prey should move at around two meters per second and cover at least 15 tiles in the virtual environment. Lastly, we employed half-Gaussian priors on the standard deviation parameters ($N(0,\ 0.5^{2})$) in both models.


### Parameter sampling settings

We parameterised asymptotic model I to run four chains of 7,500 iterations each, discarding the first 1,500 iterations of each chain as warm-up, and sampling one parameter value per two iterations thereafter. We applied the same procedure for models II and III, but using 10,500 iterations and discarding the first 2,500 iterations of each chain as warm-up. All three models yielded 16,000 posterior samples per parameter. Similarly, the linear models ran four chains of 1500 iterations each, sampling a parameter value at every iteration, and discarding the first 500 iterations. We thus obtained 4000 posterior samples per parameter in each model. We assessed the convergence of the chains using trace plots, R-hat diagnostics with a threshold set between 1.00 and 1.02, and effective sample sizes (ESS) with a threshold of >100 [@vehtari.etal2021]. We also performed posterior predictive checks, which showed an adequate fit of the models.

We fitted all models on Fir, a remote computer cluster (https://docs.alliancecan.ca/wiki/Fir) hosted by the Digital Research Alliance of Canada, using R (version 4.4.0). Model fitting was performed via Hamiltonian Monte Carlo (HMC) sampling with the "brms" package version 2.22.12 [@burkner2017], an R front-end for the STAN software [@StanDevelopmentTeam2023]. We used "cmdstanr" version 0.9.0 [@gabry.cesnovar2021] as the computational back-end for parameter estimation, with CmdStan installation version 2.36.0. We provide a detailed workflow for reproducing our results in the following GitHub repository (https://github.com/quantitative-ecologist/predator-expertise).




# RESULTS {.unnumbered}

```{r summary, cache = TRUE}
# Import the 3 model fits
fit1 <- readRDS(here::here("outputs", "outputs_models", "asym-I.rds"))
fit2 <- readRDS(here::here("outputs", "outputs_models", "asym-II.rds"))
fit3 <- readRDS(here::here("outputs", "outputs_models", "asym-III.rds"))

params1 <- extract_model_params(fit1, prob = 0.89)
params2 <- extract_model_params(fit2, prob = 0.89)
params3 <- extract_model_params(fit3, prob = 0.89)

re1 <- extract_random_effects(fit1, prob = 0.89)
re2 <- extract_random_effects(fit2, prob = 0.89)
re3 <- extract_random_effects(fit3, prob = 0.89)


# Calculate proportion of gap closed
experience <- c(50, 100, 150, 200, 300, 454)
rate <- params1$rate["median"]
gap_closed <- 1 - exp(-rate * experience)

# Results:
#  50 matches: 37% of gap closed
# 100 matches: 60% of gap closed
# 150 matches: 75% of gap closed
# 200 matches: 84% of gap closed
# 300 matches: 93% of gap closed
# 454 matches: 99% of gap closed

```

## Acquisition of expertise at the population level

As expected, the predator population's expertise increased steadily before reaching a plateau. (Figure 1). Without accounting for any prey behaviour (model I), the population's initial hunting success was at `r toString(format(round(params1$baseline["median"], 2), nsmall = 2))` (89% CI: [`r toString(format(round(params1$baseline["lo"], 2), nsmall = 2))`, `r toString(format(round(params1$baseline["hi"], 2), nsmall = 2))`]), indicating a 20% chance of capturing the four prey. The rate of gain in expertise was of `r toString(format(round(params1$rate["median"], 2), nsmall = 2))` (89% CI: [`r toString(format(round(params1$rate["lo"], 2), nsmall = 2))`, `r toString(format(round(params1$rate["hi"], 2), nsmall = 2))`]) per match. Predators acquired expertise rapidly in the first 150 matches, reaching `r toString(format(round(gap_closed[3] * 100, 0), nsmall = 0))`% of the population's maximum hunting success. The population's maximum hunting success was of `r toString(format(round(params1$asymptote["median"], 2), nsmall = 2))` (89% CI: [`r toString(format(round(params1$asymptote["lo"], 2), nsmall = 2))`, `r toString(format(round(params1$asymptote["hi"], 2), nsmall = 2))`]) probability of capturing the four prey.

```{r fig1, out.width = "100%", fig.cap = "**Figure 1**. Median posterior predictions of the acquisition of predator hunting expertise. The predators' hunting success (i.e., the probability of consuming the four prey) is on the y-axis, and the predators' cumulative experience (i.e., the number of matches played before each observation) is on the x-axis. The results of model I (no control for prey behaviour), model II (control for prey speed), and model III (control for prey speed and space covered) are presented in panels, A, B, and C respectively. Panels on the upper row show the predicted acquisition of expertise for the average individual alongside the median posterior values of the asymptotic model parameters. Panels on the lower row show among-individual differences in the acquisition of expertise, with each curve representing an individual predator. The median posterior standard deviations of the individual predator random effect are shown. All models displayed include the game duration and the prey rank as covariates."}
knitr::include_graphics(
  here::here("outputs", "outputs_figures", "figure1.png")
)

```

We did not find evidence that prey behaviour had an effect on the predator population's gain in expertise. Controlling for prey speed and space coverage did not qualitatively alter the form of the relationship between success and experience at the population level (Figure 1). However, there was a marginal negative effect of prey speed on the maximum hunting success, suggesting that predators that encountered faster prey had a lower maximum hunting success (Figure 2). Overall, model III, which included all prey features, was the best at predicting the acquisition of predator expertise (Table 2).

```{r table2, ft.align = "left"}
# ===========================================================================
# 1. Import WAIC results
# ===========================================================================

# Load WAIC comparison table
path <- file.path(here::here("outputs", "outputs_model-validation"))
waic_tab <- data.table(readRDS(file.path(path, "waic-table.rds")))

# Format elpd_diff with SE in parentheses
waic_tab[, elpd_diff_formatted := sprintf("%.1f (%.1f)", elpd_diff, se_diff)]

# Format elpd_waic with SE in parentheses
waic_tab[, elpd_waic_formatted := sprintf("%.1f (%.1f)", elpd_waic, se_elpd_waic)]

# Add model descriptions
waic_tab[, model_desc := c(
  "Model III: prey speed and prey space covered",
  "Model II: prey speed",
  "Model I: no prey features"
)]

# Select and reorder columns for display
waic_display <- waic_tab[, .(model_desc, elpd_waic_formatted, elpd_diff_formatted)]

# ===========================================================================
# ===========================================================================


# ===========================================================================
# 2. Compute the table using flextable
# ===========================================================================

# Custom theme
my_theme <- function(x, ...) {
  x <- set_table_properties(x, layout = "autofit")
  x <- border_remove(x)
  std_border <- fp_border(width = 1, color = "black")
  x <- hline_top(x, part = "all", border = std_border)
  x <- hline_bottom(x, part = "all", border = std_border)
}


# Create the table ----------------------------------------------------------

tab2 <- waic_display %>%
  flextable() %>%
  set_header_labels(
    model_desc = "Model",
    elpd_waic_formatted = "elpd WAIC\n(SE)",
    elpd_diff_formatted = "elpd difference\n(SE)"
  ) %>%
  compose(
    part = "header", j = "elpd_waic_formatted",
    value = as_paragraph(
      as_chunk("elpd WAIC\n(SE)"),
      as_sup("a")
    )
  ) %>%
  my_theme() %>%
  align(align = "left", part = "all", j = 1) %>%
  align(align = "center", part = "all", j = 2:3) %>%
  footnote(
    i = 1, j = "elpd_waic_formatted",
    part = "header",
    value = as_paragraph(
      as_sup("a "),
      "'elpd' refers to the expected log pointwise predictive density, which is the expected log probability of observing new data. Higher values indicate greater predictive accuracy."
    ),
    ref_symbols = " "
  ) %>%
  set_caption(
    caption = "Table 2. WAIC comparison results for the three asymptotic mixed models estimating the relationship between hunting success (y) and predator experience (x). All models include game duration and prey rank as covariates. Models differ in the prey behavioural covariates included on asymptotic parameters.",
    style = "Table Caption"
  ) %>%
  font(fontname = "Times New Roman", part = "all") %>%
  fontsize(size = 10, part = "all") %>%
  fontsize(size = 12, part = "footer")

tab2

```

\newpage

```{r fig2, out.width = "100%", fig.cap = "**Figure 2**. Predicted relationships between the asymptotic model parameters and prey behaviour. The black line represents the median posterior predictions, and the gray band the the 89% compatibility interval. Individual observations are the posterior medians for each predator. (Upper left) Maximum hunting success (a) as a function of the average speed of the prey group. (Upper right) Maximum hunting success (a) as a function of the average space coverage of the prey group. (Lower left) Rate of gain in expertise (c) as a function of the average speed of the prey group. (Lower right) Rate of gain in expertise (c) as a function of the average space coverage of the prey group. The predictions are from model III."}
knitr::include_graphics(
  here::here("outputs", "outputs_figures", "figure2.png")
)

```

## Prey antipredator behaviour

Prey groups composed of individuals with greater skill moved faster than those composed of individuals with lower skill (Figure 3A). In contrast, there was no change in prey space coverage with increasing skill (Figure 3B). There was also strong evidence that hunting success declined when predators pursued faster prey or prey covering more space in the virtual environment (Figure S2 A-B). Predators had lower hunting success when hunting prey of greater skill (i.e. lower rank values, Figure S2 C).

```{r fig3, out.width = "100%", fig.cap = "**Figure 3**. Median posterior predictions of the relationship between prey behaviour and prey skill. The average behaviour of the prey group is on the y-axis, and the average rank of the prey group is on the x-axis. The colour gradient showcases the density of observations, with lighter colours indicating lower densities, and darker colours indicating higher densities of observations. Lower rank values indicate that the prey group is more skilled, while higher values indicate that the prey are less skilled. Panel A is for the linear model of prey speed, and panel B is for the linear model of prey space coverage."}
knitr::include_graphics(
  here::here("outputs", "outputs_figures", "figure5.png")
)

```


## Acquisition of expertise at the individual level

Our results show that individual predators displayed substantial differences in their acquisition of expertise (Figure 1A-C). Individuals that had a low initial hunting success ended up with a lower maximum hunting success (Figure 4). In addition, individuals with the greatest maximum hunting success were those with a lower rate of gain in expertise (Figure 4). However, this relationship was decoupled when we accounted for prey behaviour in the model (cor: -002, 89% CI: [-0.16, 0.12]), indicating that prey behaviour influenced the relationship between the maximum hunting success and the rate of gain in expertise. There was no apparent relationship between the rate of gain in expertise and the predator's maximum hunting success (Figure 4).

```{r fig4, out.width = "100%", fig.cap = "**Figure 4**. Among-individual correlations between the asymptotic model parameters. Each point represents the median posterior parameter value with the 89% credible interval for a single predator player. The left panel shows the relationship between the initial hunting success (b) and the maximum hunting success (a). The center panel shows the relationship between the rate of gain in expertise (c) and the maximum hunting success (a). The left panel shows the relationship between the rate of gain in expertise (c) and the initial hunting success (b). The correlations reported in this figure come from the model that does not account for prey behaviour (Model I)."}
knitr::include_graphics(
  here::here("outputs", "outputs_figures", "figure3.png")
)

```

The standard deviation of the rate of gain in expertise in model I (median model I = `r toString(format(round(re1$sd_c["median"], 2), nsmall = 2))`, 89% CI: [`r toString(format(round(re1$sd_c["lo"], 2), nsmall = 2))`, `r toString(format(round(re1$sd_c["hi"], 2), nsmall = 2))`]) was smaller of than those of model II and III (Figure 5). Differences in the rate of expertise acquisition among predators were similar between model II and III (median model II = `r toString(format(round(re2$sd_c["median"], 2), nsmall = 2))`, 89% CI: [`r toString(format(round(re2$sd_c["lo"], 2), nsmall = 2))`, `r toString(format(round(re2$sd_c["hi"], 2), nsmall = 2))`] vs median model III = `r toString(format(round(re3$sd_c["median"], 2), nsmall = 2))`, 89% CI: [`r toString(format(round(re3$sd_c["lo"], 2), nsmall = 2))`, `r toString(format(round(re3$sd_c["hi"], 2), nsmall = 2))`]), with the posterior distributions of the standard deviations showing nearly complete overlap (Figure 5). Hence, including prey space coverage did not explain additional variation in the rate of expertise acquisition among predators.

We found weak evidence that the standard deviation of the maximum hunting success of model I (median model I = `r toString(format(round(re1$sd_a["median"], 2), nsmall = 2))`, 89% CI: [`r toString(format(round(re1$sd_a["lo"], 2), nsmall = 2))`, `r toString(format(round(re1$sd_a["hi"], 2), nsmall = 2))`]) was slightly greater than those of model II and III (Figure 5). Compared to model II, among-individual differences in maximum hunting success remained unchanged after accounting for prey space coverage (median model II = `r toString(format(round(re2$sd_a["median"], 2), nsmall = 2))`, 89% CI: [`r toString(format(round(re2$sd_a["lo"], 2), nsmall = 2))`, `r toString(format(round(re2$sd_a["hi"], 2), nsmall = 2))`] vs median model III = `r toString(format(round(re3$sd_a["median"], 2), nsmall = 2))`, 89% CI: [`r toString(format(round(re3$sd_a["lo"], 2), nsmall = 2))`, `r toString(format(round(re3$sd_a["hi"], 2), nsmall = 2))`]). 

```{r fig5, out.width = "100%", fig.cap = "**Figure 5**. Posterior distributions of individual random effect standard deviations for asymptotic parameters. The asymptotic parameters are displayed on the y-axis, and their standard deviation values are displayed on the x-axis. The vertical lines are the medians of the posterior distributions. The light pink (lightest) distributions are for the model accounting only for the game duration and prey rank (model I), the light purple (lighter) distributions are for the model accounting for game duration and the prey rank and prey speed on asymptotic parameters (model II), and the dark purple (darker) distributions are for the model accounting for the game duration, the prey rank and all prey behaviours on asymptotic parameters (model III)."}
knitr::include_graphics(
  here::here("outputs", "outputs_figures", "figure4.png")
)
```




# DISCUSSION

**The extent of the variation in the relationship between success and experience was shaped by the prey's skill, as observed by comparing the posterior distributions of individual-level parameters among models with and without the prey rank (Figure 4). talk about this with the masking effect when we don't account for it**

Using a virtual predator-prey system where we monitored predator hunting success across experience, we provide rare empirical support for the hypothesis that prey behaviour can modulate the acquisition of hunting expertise at the population level. We show that, on average, predators are expected to increase their hunting success with experience if they hunt prey of average skill. While we could not show that prey behaviour directly impaired expertise acquisition in predators, we found that predators reached their maximum hunting success sooner when pursuing prey with average movement behaviour (i.e., speed and space coverage) over repeated encounters. This is most likely because faster prey are more difficult to chase, while those that cover a lot of space are more difficult to locate since they are always moving, resulting in predators having lower success. We also observed that prey with greater skill moved faster, but did not increase their space coverage. At the individual level, predators displayed important differences in expertise acquisition that were apparent only after accounting for prey skill. While this is most likely due to the game pairing system, it highlights how prey can shape the predator hunting success over time.

The matchmaking algorithm in *Dead by Daylight* is intended to pair players with similar skill levels within matches, and our results show that the system is effective, as the predators maintained a near constant hunting success over repeated encounters (Figure S2). However, when we controlled for the prey's skill, the gain in expertise by the predator changed at both the population and individual levels: the relationship between success and experience became asymptotic, wherein initial gains in success were significant and gradually stabilized as experience accumulated. This suggests that hunting success would be larger for experienced predators if they were not matched to highly skilled prey, but instead, to prey of average skill levels. This pattern of expertise acquisition is consistent with empirical studies in both humans and nonhuman animals [reviewed in @dukas2019] but provides additional information on how it may change given the difficulty of the task. For example, the population may have had a slower gain in expertise if the skill of the prey encountered was consistently higher. This is further supported by our results showing reduced success against prey of greater skill. 

Prey behaviour also played a role in shaping expertise acquisition by predators at the population level. First, encounters with faster prey and prey covering more space resulted in lower hunting success (Figure 2). We previously showed in *Dead by Daylight* that faster movement and space coverage is effective for prey to evade predation [@fraserfranco.etal2022], a pattern observed in studies involving other animals [@walker.etal2005;@kelley.magurran2011;@martin.etal2022]. Prey of greater skill increasingly relied on faster movement, and predators were less successful against skilful prey, suggesting that the effect of prey skill on the gain in expertise by predators was in part mediated by changes in prey behaviour following previous predator encounters [@tetzalf.etal2019]. Second, we observed that predators reached their maximum hunting success sooner when we controlled for the prey's speed, after 323 matches played, compared to 454 matches when prey speed was not accounted for. Parallel observations have been outlined in studies of prey camouflage strategies. For example, @troscianko.etal2018 showed in a computer experiment involving humans that disruptive camouflage was efficient at preventing the acquisition of expertise during search image formation. Hence, our analyses provide evidence that prey antipredator behaviour could mediate the acquisition of hunting expertise in predators by increasing or slowing its rate at the population level.

Our analyses also revealed important differences among individual predators in the acquisition of expertise, indicating that predators varied in their capacity to improve over time. However, neither prey speed nor prey space coverage influenced among-individual differences in expertise. The large individual variation in expertise acquisition emerged when we controlled for prey skill and persisted when we controlled for the prey's behaviour, suggesting that it would be observed even if predators hunted prey of average speed or space coverage. This implies that other proximal or ecological factors may be at play. For example, predators have limited attention spans that restrict diet choice and the formation of search images when they need to focus on hunting multiple prey simultaneously [@dukas.etal2001;@troscianko.etal2018]. Chasing prey demands specialized cognitive abilities and coordination that are energetically costly [@kelley.magurran2011]. Hence, some individuals may have shown greater improvement in success over time if they possessed neurological or physical attributes that allow them to better concentrate on the hunting task  [@dukas2019]. Longer time intervals between hunting events are also hypothesized to hinder or delay the acquisition of expertise due to information loss [@endler1991;@wright.etal2022;@wooster.etal2023]. For example, a predator who played 300 matches within six months might forget critical information related to prey detection or escape patterns compared to one who played 300 matches within six weeks. Alternatively, predators may also shape their own expertise via their hunting tactic. For example, faster hunters may push their prey to move faster or to display altruistic behaviours, which, in turn, may hinder their own expertise acquisition due to the increased difficulty of hunting such prey [@fraserfranco.etal2022;@cere.etal2024]. However, integrating the effects of proximal mechanisms, the predator's tactics, and the prey's behaviour into a unified framework to investigate expertise acquisition remains challenging, due to computational constraints and limitations in current modeling approaches.

One criticism of using videogames to study behaviour is that neither the predator's nor the prey player's life is at stake in the game. This may partly explain the observed persistence of differences among individuals in expertise acquisition. Hence, the gain in expertise may have been driven by the players' motivation to win rather than "true" survival. For instance, some players may experiment with the game out of boredom, which could contribute to shaping how expertise is honed in this particular system. Yet, motivation and perseverance have been outlined as core components that increase the gain in expertise in human and nonhuman hunters [@dukas2019]. Thus, we believe that failing to account for motivation represents a limitation of our study more than the use of videogames to study ecological interactions.

## Conclusions

We found support for the hypothesis that prey antipredator behaviour can drive the acquisition of hunting expertise using a human predator population in the game *Dead by Daylight*. However, the effect of antipredator behaviour was observed only at the population level. While there were important differences among individuals in expertise acquisition, we did not find evidence that they were mediated by the prey's movement behaviour. Future analyses should incorporate cognitive, physical and behavioural attributes of the prey to assess their influence on the acquisition of predator expertise, which may reveal important insights into the eco-evolutionary dynamics of predator-prey interactions. Our demonstration of how prey antipredator behaviour can mediate the acquisition of hunting expertise adds to a growing body of research showing how virtual systems can be used to test hypotheses on ecological interactions [@beauchamp2020;@cere.etal2021;@fraserfranco.etal2022;@lymbery.etal2023;@santostefano.etal2024]. We hope that this will inspire more collaborations between scientists and the videogame industry to tackle fundamental questions in ecology.




# Data availability

The data and code used to produce our analyses are fully available on this GitHub repository: https://github.com/quantitative-ecologist/predator-expertise.




# REFERENCES {.unnumbered}

<div id="refs"></div>